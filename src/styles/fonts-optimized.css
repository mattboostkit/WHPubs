/* Optimized Font Loading Strategy */

/* Preload critical fonts */
@font-face {
  font-family: 'Georgia Fallback';
  src: local('Georgia'), local('Georgia Regular');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Georgia Fallback';
  src: local('Georgia Bold'), local('Georgia-Bold');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Custom web fonts with font-display: swap for better performance */
@font-face {
  font-family: 'Lora';
  src: url('/fonts/lora-v32-latin-regular.woff2') format('woff2'),
       url('/fonts/lora-v32-latin-regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Lora';
  src: url('/fonts/lora-v32-latin-700.woff2') format('woff2'),
       url('/fonts/lora-v32-latin-700.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Quattrocento';
  src: url('/fonts/quattrocento-v18-latin-regular.woff2') format('woff2'),
       url('/fonts/quattrocento-v18-latin-regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'Quattrocento';
  src: url('/fonts/quattrocento-v18-latin-700.woff2') format('woff2'),
       url('/fonts/quattrocento-v18-latin-700.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* Font loading classes with proper fallbacks */
.font-serif {
  font-family: 'Lora', 'Georgia Fallback', Georgia, 'Times New Roman', serif;
}

.font-display {
  font-family: 'Quattrocento', 'Georgia Fallback', Georgia, serif;
}

/* Critical font loading */
.fonts-loading {
  font-family: 'Georgia Fallback', Georgia, serif !important;
}

.fonts-loaded .font-serif {
  font-family: 'Lora', Georgia, serif;
}

.fonts-loaded .font-display {
  font-family: 'Quattrocento', Georgia, serif;
}

/* Prevent layout shift with font metrics */
@supports (font-size-adjust: 1) {
  .font-serif {
    font-size-adjust: 0.5;
  }
  
  .font-display {
    font-size-adjust: 0.52;
  }
}

/* Subset for above-the-fold content */
@font-face {
  font-family: 'Lora Subset';
  src: url('/fonts/lora-subset.woff2') format('woff2');
  font-weight: 400;
  font-style: normal;
  font-display: block;
  unicode-range: U+0020-007E; /* Basic Latin */
}