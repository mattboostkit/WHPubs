---
import Layout from '../layouts/Layout.astro';
import { getDevelopmentKitchen, getPubBySlug } from '../lib/sanity';
import DevelopmentKitchenShowcase from '../components/DevelopmentKitchenShowcase';

const targetPubSlug = import.meta.env.TARGET_PUB_SLUG;
const targetPub = targetPubSlug ? await getPubBySlug(targetPubSlug) : null;
const developmentKitchen = await getDevelopmentKitchen();

const pageTitle = 'Development Kitchen | WH Pubs';
const pageDescription = 'Discover the culinary innovation at the heart of WH Pubs. Our Development Kitchen creates seasonal menus using the finest local ingredients.';
---

<Layout 
  title={pageTitle} 
  description={pageDescription}
  targetPub={targetPub}
  ogImage={developmentKitchen?.seo?.ogImage?.asset?.url}
>
  <main>
    <section class="py-16">
      <div class="container mx-auto px-4">
        <DevelopmentKitchenShowcase client:load />
      </div>
    </section>
  </main>
</Layout>