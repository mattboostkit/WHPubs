---
import Layout from '../layouts/Layout.astro';
import { Button } from "@/components/ui/button"
import { ChefHat, Coffee, Beer, Wine } from 'lucide-react';

// Define fallback images
const menuFallbackImage = '/images/menu-fallback.jpg';
---

<Layout title="Menus - WH Pubs">
	<main class="pt-24 bg-secondary/10 min-h-screen">
		<!-- Image fallback script -->
		<script is:inline>
			document.addEventListener('DOMContentLoaded', function() {
				// Add error handler to all images with data-fallback attribute
				const images = document.querySelectorAll('img[data-fallback]');
				
				images.forEach(img => {
					img.addEventListener('error', function() {
						// Only replace once to avoid infinite loops
						if (!this.hasAttribute('data-replaced')) {
							this.setAttribute('src', this.getAttribute('data-fallback'));
							this.setAttribute('data-replaced', 'true');
						}
					});
					
					// Trigger a load event to check if the current src is valid
					const currentSrc = img.getAttribute('src');
					img.setAttribute('src', '');
					img.setAttribute('src', currentSrc);
				});
			});
		</script>
		
		<div class="container mx-auto px-4">
			<h1 class="text-5xl font-bold text-center mb-4 text-gold">Our Menus</h1>
			<p class="text-center text-lg text-gold/70 mb-12 max-w-2xl mx-auto">
				Discover our carefully crafted menus featuring seasonal ingredients and traditional British favorites.
			</p>

			<div class="grid md:grid-cols-2 gap-8 max-w-4xl mx-auto">
				<div class="bg-white rounded-lg shadow-lg overflow-hidden">
					<img 
						src="https://images.unsplash.com/photo-1514326640560-7d063ef2aed5?q=80&w=2070&auto=format&fit=crop"
						alt="Elegant table setting with perfectly plated main course"
						class="w-full h-48 object-cover"
						onerror="this.onerror=null; this.src=this.getAttribute('data-fallback');" 
						data-fallback={menuFallbackImage}
					/>
					<div class="p-6">
						<div class="flex items-center gap-2 mb-4">
							<ChefHat class="w-6 h-6 text-primary" />
							<h2 class="text-xl font-bold text-gold">Main Menu</h2>
						</div>
						<p class="text-primary/70 mb-6 leading-relaxed">
							From hearty classics to contemporary dishes, our main menu offers something for everyone.
						</p>
						<Button variant="outline" class="w-full hover:bg-primary hover:text-white transition-colors">
							View Menu
						</Button>
					</div>
				</div>

				<div class="bg-white rounded-lg shadow-lg overflow-hidden">
					<img 
						src="https://images.unsplash.com/photo-1513442542250-854d436a73f2?q=80&w=2070&auto=format&fit=crop"
						alt="Selection of craft beers and ales on a rustic wooden bar"
						class="w-full h-48 object-cover"
						onerror="this.onerror=null; this.src=this.getAttribute('data-fallback');" 
						data-fallback={menuFallbackImage}
					/>
					<div class="p-6">
						<div class="flex items-center gap-2 mb-4">
							<Beer class="w-6 h-6 text-primary" />
							<h2 class="text-xl font-bold text-gold">Drinks Menu</h2>
						</div>
						<p class="text-primary/70 mb-6 leading-relaxed">
							Explore our selection of local ales, craft beers, wines, and signature cocktails.
						</p>
						<Button variant="outline" class="w-full hover:bg-primary hover:text-white transition-colors">
							View Menu
						</Button>
					</div>
				</div>

				<div class="bg-white rounded-lg shadow-lg overflow-hidden">
					<img 
						src="https://images.unsplash.com/photo-1533089860892-a7c6f0a88666?q=80&w=2070&auto=format&fit=crop"
						alt="Traditional Sunday roast with all the trimmings"
						class="w-full h-48 object-cover"
						onerror="this.onerror=null; this.src=this.getAttribute('data-fallback');" 
						data-fallback={menuFallbackImage}
					/>
					<div class="p-6">
						<div class="flex items-center gap-2 mb-4">
							<ChefHat class="w-6 h-6 text-primary" />
							<h2 class="text-xl font-bold">Sunday Menu</h2>
						</div>
						<p class="text-primary/70 mb-4">
							Join us for a traditional Sunday roast with all the trimmings.
						</p>
						<Button variant="outline" class="w-full">View Menu</Button>
					</div>
				</div>

				<div class="bg-white rounded-lg shadow-lg overflow-hidden">
					<img 
						src="https://images.unsplash.com/photo-1495214783159-3503fd1b572d?q=80&w=2070&auto=format&fit=crop"
						alt="Freshly baked pastries and coffee for breakfast"
						class="w-full h-48 object-cover"
						onerror="this.onerror=null; this.src=this.getAttribute('data-fallback');" 
						data-fallback={menuFallbackImage}
					/>
					<div class="p-6">
						<div class="flex items-center gap-2 mb-4">
							<Coffee class="w-6 h-6 text-primary" />
							<h2 class="text-xl font-bold">Breakfast Menu</h2>
						</div>
						<p class="text-primary/70 mb-4">
							Start your day right with our hearty breakfast options.
						</p>
						<Button variant="outline" class="w-full">View Menu</Button>
					</div>
				</div>
			</div>

			<div class="mt-12 text-center">
				<p class="text-primary/70 mb-4">For allergen information or special dietary requirements, please speak to our staff.</p>
				<Button variant="default" size="lg" class="bg-primary text-white hover:bg-primary/90">Book a Table</Button>
			</div>
		</div>
	</main>
</Layout>